{% extends 'flatpages/default.html' %}
{% load socialaccount %}
{% load static %}

{% block title %}
Вход
{% endblock title %}

{% block content %}
<h1>Вход на сайт</h1>

<div style="display: flex; gap: 20px; flex-wrap: wrap;">
    <div style="flex: 1; min-width: 300px; padding: 20px; border: 1px solid #ddd; border-radius: 5px;">
        <h2>Войти по email</h2>
        <form method="post" action="{% url 'account_login' %}">
            {% csrf_token %}
            {{ form.as_p }}
            {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
            {% endif %}
            <button type="submit" style="padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 3px; cursor: pointer;">
                Войти
            </button>
        </form>
        <p style="margin-top: 20px;">
            <a href="{% url 'account_reset_password' %}">Забыли пароль?</a>
        </p>
        <p>
            Нет аккаунта? <a href="{% url 'account_signup' %}">Зарегистрироваться</a>
        </p>
    </div>
    
    <div style="flex: 1; min-width: 300px; padding: 20px; border: 1px solid #ddd; border-radius: 5px;">
        <h2>Войти через соцсети</h2>
        
        <!-- Google -->
        <a href="{% provider_login_url 'google' %}" 
           style="display: block; padding: 10px; margin-bottom: 10px; background: #4285F4; color: white; text-align: center; text-decoration: none; border-radius: 3px;">
            Войти через Google
        </a>
        
        <!-- Yandex -->
        <a href="{% provider_login_url 'yandex' %}" 
           style="display: block; padding: 10px; background: #FFCC00; color: black; text-align: center; text-decoration: none; border-radius: 3px;">
            Войти через Yandex
        </a>
    </div>
</div>
{% endblock content %}